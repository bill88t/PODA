@use 'sass:color'
@use 'sass:math'

@import url('https://fonts.googleapis.com/css2?family=Vollkorn:ital,wght@0,400..900;1,400..900&display=swap');

$primary: color.adjust(#3D8657, $saturation: -20%)
$secondary: color.adjust(#86573D, $saturation: -15%, $lightness: -2%)
$highlight: color.adjust(#573D86, $saturation: -10%)

$white: color.adjust($secondary, $saturation: 5%, $lightness: 55%)
$highlight-white: color.adjust($highlight, $saturation: 20%, $lightness: 45%)
$black: color.adjust($secondary, $saturation: -10%, $lightness: -20%)
$red: color.adjust(#B35764, $lightness: -5%)
$blue :#3D4886

// power of 8
$gap: 16px
$nav-gap: 16px
$nav-padding: 8px
$form-gap: 8px
$title-size: 24px
$text-size: 16px

$background-color: $white
$form-background-color: $secondary
$text-color: $black
$link-text-color: $highlight
$button-background-color: $secondary
$button-text-color: $white
$shadow-color: $black
$input-background-color: inherit
$input-text-color: $text-color

$nav-background-color: $primary
$nav-text-color: $white

$background-color-dark: $black
$text-color-dark: $white
$button-background-color-dark: $highlight
$button-text-color-dark: $white
$shadow-color-dark: $black
$input-background-color-dark: $secondary
$input-text-color-dark: $white
$link-text-color-dark: $highlight-white
$nav-background-color-dark: $primary

.error
  color: $red

*, *:before, *:after
  font-family: "Vollkorn", "serif"
  margin: 0
  padding: 0
  box-sizing: border-box
  line-height: 1.5em // 1 + 1/2 of the font size
h1
  color: $text-color
  padding: math.div($gap, 2) $gap
  size: $title-size

p
  color: $text-color
  padding: math.div($gap, 2) $gap
  size: $text-size

a
  color: $link-text-color

body
  background-color: $background-color
  width: 100%
  height: 100%
  max-width: 1920px
  display: flex
  justify-content: center
  align-items: below

.form
  color: $text-color
  padding: $form-gap
  width: 100%
  max-width: 480px
  min-height: 100%
  height: 100%
  margin: auto
  gap: $form-gap
  display: grid
  grid-template-columns: 1fr

  *
    background-color: transparent
    width: 100%

  input, button, .field
    border-style: none
    box-shadow: rgba($shadow-color, 0.2) 0 0 12px
    padding: $form-gap
    transform: translateY(math.div(-$form-gap, 2))
    border-radius: 4px

  .field
    height: $text-size*2 + $form-gap*4

  button
    background-color: $button-background-color
    color: $button-text-color
    margin-top: math.div($form-gap, 2) // alignment

  input
    color: $input-text-color
    background-color: $input-background-color

  h1, h2
    padding: $form-gap 0
    size: $title-size

.nav
  width: 100vw
  background-color: $nav-background-color
  color: $nav-text-color
  display: flex
  padding: $nav-padding*2 $nav-padding

  *
    background-color: inherit
    display: flex
    gap: $nav-gap

  .nav-right
    margin-left: auto
    gap: $nav-gap

  a
    display: inline-block
    color: white
    background: transparent
    text-decoration: none

@media (prefers-color-scheme: dark)
  body
    background-color: $background-color-dark

  h1, p
    color: $text-color-dark

  a
    color: $link-text-color-dark

  .form
    color: $text-color-dark

    input
      color: $input-text-color-dark
      background-color: $input-background-color-dark

    button
      background-color: $button-background-color-dark
      color: $button-text-color-dark

    input, button
      border-style: none
      box-shadow: rgba($shadow-color-dark, 0.3) 0 0 12px

  .nav
    background-color: $nav-background-color-dark

@media(min-width: 480px)
  .form
    display: grid
    grid-template-columns: 1fr 1fr

    h1, h2, .span2
      grid-column: span 2
